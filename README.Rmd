---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# fedeconseries

<!-- badges: start -->
[![Travis build status](https://travis-ci.org/harrysun26/fedeconseries.svg?branch=master)](https://travis-ci.org/harrysun26/fedeconseries)
[![AppVeyor build status](https://ci.appveyor.com/api/projects/status/github/harrysun26/fedeconseries?branch=master&svg=true)](https://ci.appveyor.com/project/harrysun26/fedeconseries)
[![Codecov test coverage](https://codecov.io/gh/harrysun26/fedeconseries/branch/master/graph/badge.svg)](https://codecov.io/gh/harrysun26/fedeconseries?branch=master)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
<!-- badges: end -->

The goal of fedeconseries is to obtain US federal reserve economc data.  Reserach use only.

## Installation

You can install the released version of fedeconseries from github with:

```r
#Ordinary: install.packages("fedeconseries") OR(if not working:)
library(devtools)
install_github("harrysun26/fedeconseries")
```

## Usage
A more detailed example can be found in my vignette: https://harrysun26.github.io/fedeconseries/index.html


## Functions:
* 
`search_fedeconseries("Industrial+Production+Index", search_type = 'full_text',realtime_start = NULL, realtime_end = NULL)`

  The above function helps to find the series identifier used in `get_fedeconseries` or `get_fred_series2`.

*                   
`get_fedeconseries("INDPRO", "test",observation_start = "2013-03-01", observation_end = "2013-03-30",realtime_start = "2015-02-02", realtime_end = "2015-02-02")`
                  
  This function looks up industrial production data of US. 
                 
  **Note:** this function returns data that is adjusted by ALFRED, with methods such as seasonal adjustment for time series. 

*              
Wrapper for getting only most recent releases 

  `get_fred_series2("INDPRO", "indpro", observation_start = "2009-03-01", observation_end = "2009-03-01")`

  Function above returns real value(raw data) of economic series.  Not adjusted.

### Terms of use

When using the FRED&copy; API, you are agreeing to be bound by the FRED&copy; API Terms of Use, see https://research.stlouisfed.org/docs/api/terms_of_use.html.

## History
- 02.02.2020: Version 1.0 release

## Example

This is a basic example which shows you how to solve a common problem:

Say you want to fetch some **Industrial Production Index** data, if you do not know the exact series identifier, you could first start with search this key words using `search_fedeconseries`. 

```{r example}
library(fedeconseries)
df <- search_fedeconseries("Industrial+Production+Index")
```

Then say you choose the first one from the return result, which is **INDPRO**.

```{r}
library(fedeconseries)
df <- get_fred_series2("INDPRO", "indpro")
```

The output is a data frame

```{r}
head(df)
```

This can be readily used, i.e. for plotting

```{r, fig.show = "hold"}
library(ggplot2)
ggplot(df) +
  geom_line(aes(x = date, y = indpro))
```

## Vintage data

When using get_fedeconseries for downloading real-time data sets, there will be an additional column for the respective vintage dates.

```{r}
df_vintages <-
  get_fedeconseries("GDPC1", "rgdp",
                    obs_start = "2007-05-31",
                    real_start = "2008-05-31", real_end = "2009-03-30")
head(df_vintages)
```

Because of its output being a tidy data frame, it is easy to visualise revisions by

```{r, fig.show = "hold", fig.width = 6}
library(ggplot2)

ggplot(df_vintages) +
  geom_line(aes(x = date, y = rgdp, colour = as.factor(realtime_period))) +
  theme_bw() +
  theme(
    legend.title = element_blank(),
    legend.position = "bottom"
  )
```
