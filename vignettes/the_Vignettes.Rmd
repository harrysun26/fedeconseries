---
title: "the Vignettes of fedeconseries"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{the_Vignettes}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

An easy way to download ALFRED data (US Frderal Reserve Economic data).

## Installation

You may install the last stable release , the latest development version from github.


```{r}
# install.packages("fedeconseries")
# or---
# install.packages("devtools")
# devtools::install_github("harrysun26/fedeconseries")

```

## Usage

First, when use this package to fetch data from \url{https://alfred.stlouisfed.org}, you need to know the `s_id` which is the data identifier. If you don't know the series_id, you could try `search_fedeconseries` to search some keywords. Say you want to know the Industrial Production Index, but you do not the series identifier to fetch data. Here is whay you could do:

```{r}
library(fedeconseries)
df <- search_fedeconseries("Industrial+Production+Index")
##for display purpose, I omited the 16th column, since it contains long notes.
head(df[,-16])
```

From the above dataframe, you could check the title, the frequency, the popularity, the notes, etc., then you could easily choose which one is what you need.


Assume you have choosed 'INDPRO',next step,downloading data is straightforward (for real-time data from ALFRED see below):


```{r}
library(fedeconseries)
df <- get_fred_series2("INDPRO", "indpro")
```

The output is a data frame

```{r}
head(df)
```

This can be readily used, i.e. for plotting

```{r, fig.show = "hold"}
library(ggplot2)
ggplot(df) +
  geom_line(aes(x = date, y = indpro))
```

## Vintage data

When using get_fedeconseries for downloading real-time data sets, there will be an additional column for the respective vintage dates.

```{r}
df_vintages <-
  get_fedeconseries("GDPC1", "rgdp",
                    obs_start = "2007-05-31",
                    real_start = "2008-05-31", real_end = "2009-03-30")
head(df_vintages)
```

Because of its output being a tidy data frame, it is easy to visualise revisions by

```{r, fig.show = "hold", fig.width = 6}
library(ggplot2)

ggplot(df_vintages) +
  geom_line(aes(x = date, y = rgdp, colour = as.factor(realtime_period))) +
  theme_bw() +
  theme(
    legend.title = element_blank(),
    legend.position = "bottom"
  )
```
